<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="paper-fab" assetpath="../bower_components/paper-fab/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-vertical;@apply --layout-center-center;background:var(--paper-fab-background, var(--accent-color));border-radius:50%;box-sizing:border-box;color:var(--text-primary-color);cursor:pointer;height:56px;min-width:0;outline:none;padding:16px;position:relative;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;width:56px;z-index:0;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;@apply --paper-fab;}[hidden]{display:none !important;}:host([mini]){width:40px;height:40px;padding:8px;@apply --paper-fab-mini;}:host([disabled]){color:var(--paper-fab-disabled-text, var(--paper-grey-500));background:var(--paper-fab-disabled-background, var(--paper-grey-300));@apply --paper-fab-disabled;}iron-icon{@apply --paper-fab-iron-icon;}span{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;@apply --paper-fab-label;}:host(.keyboard-focus){background:var(--paper-fab-keyboard-focus-background, var(--paper-pink-900));}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}</style><iron-icon id="icon" hidden$="{{!_computeIsIconFab(icon, src)}}" src="[[src]]" icon="[[icon]]"></iron-icon><span hidden$="{{_computeIsIconFab(icon, src)}}">{{label}}</span></template><script>Polymer({is:'paper-fab',behaviors:[Polymer.PaperButtonBehavior],properties:{src:{type:String,value:''},icon:{type:String,value:''},mini:{type:Boolean,value:!1,reflectToAttribute:!0},label:{type:String,observer:'_labelChanged'}},_labelChanged:function(){this.setAttribute('aria-label',this.label)},_computeIsIconFab:function(a,b){return 0<a.length||0<b.length}});</script></dom-module></div><dom-module id="my-edit-student"><template><style include="shared-styles">:host{display:block;padding:10px;}.main{display:flex;align-items:center;justify-content:center;width:100%;}paper-card{width:300px;height:200px;margin:5px;}paper-fab{position:fixed;color:black;bottom:0;right:0;margin:50px;}paper-button{color:var(--accent-color);}paper-input{--paper-input-container-focus-color:var(--app-secondary-color);}</style><iron-ajax auto="" url="/list-users" handle-as="json" last-response="{{res}}" loading="{{loading}}"></iron-ajax><h2>Edit students</h2><div hidden$="[[!loading]]"><paper-spinner active="[[loading]]"></paper-spinner></div><div class="main"><template is="dom-repeat" items="[[res]]" as="res"><paper-card heading="[[res.displayName]]"><div class="card-content"></div><div class="card-actions"><paper-button on-tap="editDetails">Edit Details</paper-button><paper-button on-tap="delete">Delete student</paper-button></div></paper-card></template><paper-dialog id="edit"><h2>Edit Details</h2><paper-input type="text" id="eFullName" label="Enter full name"></paper-input><paper-input type="text" id="eEmail" label="Enter email"></paper-input><paper-input type="password" id="ePass" label="Enter new password"></paper-input><paper-button on-tap="updateStudent">update details</paper-button><paper-button dialog-dismiss="">close</paper-button></paper-dialog><paper-dialog id="delete"><h2>Are you sure you want to delete this student?</h2><paper-button on-tap="deleteStudent">yes</paper-button><paper-button dialog-dismiss="">no</paper-button></paper-dialog><paper-dialog id="create"><h2>Create a new student</h2><paper-input type="text" id="fullName" label="Enter full name"></paper-input><paper-input type="text" id="email" label="Enter email"></paper-input><paper-input type="password" id="pass" label="Enter password"></paper-input><paper-button on-tap="createStudent">Create</paper-button><paper-button dialog-dismiss="">cancel</paper-button></paper-dialog></div><paper-toast id="toast"></paper-toast><paper-fab icon="my-icons:add" alt="create a new note" title="create a new note" on-tap="create"></paper-fab></template><script>var selectedUid=null;class MyEditStudent extends Polymer.Element{static get is(){return'my-edit-student'}static get properties(){return{res:{type:Array},selectedUser:{type:Object},loading:{type:Boolean}}}create(){this.$.create.opened=!0}createStudent(){var a=document.createElement('iron-ajax');a.contentType='application/x-www-form-urlencoded',a.method='post',a.handleAs='json',a.body={email:this.$.email.value,displayName:this.$.fullName.value,password:this.$.pass.value},a.url='/create-student',a.generateRequest(),a.addEventListener('last-response-changed',this.lastResponseChanged('Student created successfully'))}updateStudent(){var a=document.createElement('iron-ajax');a.contentType='application/x-www-form-urlencoded',a.method='post',a.handleAs='json',a.body={email:this.$.eEmail.value,displayName:this.$.eFullName.value,password:this.$.ePass.value,uid:this.selectedUser.uid},a.url='/update-student',a.generateRequest(),a.addEventListener('last-response-changed',this.lastResponseChanged('Student details updated successfully'))}editDetails(a){this.selectedUser=a.model.res,this.$.eEmail.value=this.selectedUser.email,this.$.eFullName.value=this.selectedUser.displayName,this.$.edit.opened=!0}delete(a){let b=a.model.res.uid;selectedUid=b,this.$.delete.opened=!0}deleteStudent(){if(null!=selectedUid){var a=document.createElement('iron-ajax');a.contentType='application/x-www-form-urlencoded',a.method='post',a.handleAs='json',a.body={uid:selectedUid},a.url='/delete-student',a.generateRequest(),a.addEventListener('last-response-changed',this.lastResponseChanged('Student deleted successfully'))}}lastResponseChanged(a){this.$.delete.opened=!1,this.$.create.opened=!1,this.$.edit.opened=!1,this.$.toast.show({text:a,duration:3e3}),setTimeout(()=>{window.location.reload()},3e3)}}window.customElements.define(MyEditStudent.is,MyEditStudent);</script></dom-module></body></html>