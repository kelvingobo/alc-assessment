<html><head></head><body><div hidden="" by-polymer-bundler=""><dom-module id="paper-dialog-scrollable" assetpath="../bower_components/paper-dialog-scrollable/"><template><style>:host{display:block;@apply --layout-relative;}:host(.is-scrolled:not(:first-child))::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:var(--divider-color);}:host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--divider-color);}.scrollable{padding:0 24px;@apply --layout-scroll;@apply --paper-dialog-scrollable;}.fit{@apply --layout-fit;}</style><div id="scrollable" class="scrollable" on-scroll="updateScrollState"><slot></slot></div></template></dom-module><script>Polymer({is:'paper-dialog-scrollable',properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget(),this.classList.add('no-padding')},attached:function(){this._ensureTarget(),requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass('is-scrolled',0<this.scrollTarget.scrollTop),this.toggleClass('can-scroll',this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight),this.toggleClass('scrolled-to-bottom',this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){this.dialogElement=this.dialogElement||this.parentElement,this.dialogElement&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove('fit')):this.dialogElement&&this.scrollTarget.classList.add('fit')}});</script></div><dom-module id="my-list-resources"><template><style include="shared-styles">:host{display:block;padding:10px;}.main{display:flex;-webkit-display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:flex-start;}paper-card{width:250px;height:auto;margin:5px;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-height:1.5;max-height:1.5*3;}paper-dialog{padding:10px;width:70%;display:flex;flex-direction:column;align-items:center;}paper-dialog h2{width:inherit;}paper-dialog-scrollable{width:100%;align-items:flex-start;justify-content:flex-start;}paper-card .card-content{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;line-height:1.5;max-height:1.5*3;}paper-button{color:var(--accent-color);}.card-actions a:link, a:visited{display:flex;align-items:center;justify-content:flex-start;text-decoration:none;color:grey;width:100%;cursor:pointer;}.card-actions a:hover{background-color:var(--accent-color);}@media (max-width: 770px){.main{flex-wrap:wrap;align-items:flex-start;justify-content:center;}paper-card{width:250px;min-height:250px;}}@media (max-width: 650px){.main{flex-wrap:wrap;align-items:flex-start;justify-content:center;}paper-card{width:250px;min-height:200px;}}</style><iron-ajax auto="" url="/list-available-resources" handle-as="json" last-response="{{response}}" loading="{{loading}}"></iron-ajax><paper-dialog id="dialog"><h3>[[selectedResource.title]]</h3><paper-dialog-scrollable><div>[[selectedResource.text]]</div></paper-dialog-scrollable><div class="buttons"><paper-button on-tap="closeDialog">Cancel</paper-button></div></paper-dialog><paper-dialog id="deleteDialog"><h2>Are you sure you want to delete this resource?</h2><paper-button on-tap="deleteResource">yes</paper-button><paper-button dialog-dismiss="">no</paper-button></paper-dialog><h2>Available resources</h2><div hidden$="[[!loading]]"><paper-spinner active="[[loading]]"></paper-spinner></div><div class="main"><template is="dom-repeat" items="[[response]]" as="resource"><paper-card heading="[[resource.title]]"><div class="card-content"><p>[[resource.text]]</p></div><div class="card-actions"><paper-button on-tap="viewResource">open</paper-button><paper-button on-tap="delete">delete</paper-button></div></paper-card></template><paper-toast id="toast" text="Resource deleted successfully"></paper-toast></div></template><script>var selectedRes=null;class MyListResources extends Polymer.Element{static get is(){return"my-list-resources"}static get properties(){return{response:{type:Array},selectedResource:{type:Object},loading:{type:Boolean},items:{type:Array,value:function(){return[{heading:"Articles",linkText:"Go to articles",link:""},{heading:"Documents",linkText:"Go to docs",link:""},{heading:"Video",linkText:"Go to video",link:""}]}}}}delete(a){selectedRes=a.model.resource,console.log(selectedRes),this.$.deleteDialog.opened=!0}deleteResource(){if(null!=selectedRes){var a=document.createElement("iron-ajax");a.contentType="application/x-www-form-urlencoded",a.method="post",a.handleAs="json",a.body=selectedRes,a.url="/delete-resource",a.generateRequest(),a.addEventListener("last-response-changed",this.lastResponseChanged())}}lastResponseChanged(){this.$.deleteDialog.opened=!1,this.$.toast.opened=!0,setTimeout(()=>{window.location.reload()},3e3)}closeDialog(){this.$.dialog.opened=!1}viewResource(a){this.selectedResource=a.model.resource,this.$.dialog.opened=!0}}window.customElements.define(MyListResources.is,MyListResources);</script></dom-module></body></html>